/*
 * jQuery.my 0.3 beta + SugarJS 1.2.5
 * -- added undo
 * -- jQuery UI slider, buttonset and datepicker 
 *    are now recognized
 * 
 * (c) ermouth
 * See details at jquerymy.com
 * 
 * Requires jQuery 1.7.1+
 * Minified with http://jscompress.com/
 * SugarJS -- (c) Andrew Plummer, sugarjs.com
 */
 
(function(){function i(a,b,c,d){var e=b?a.prototype:a,f;j(a,b,d);n(d,function(d,g){f=e[d];if(typeof c==="function"){g=k(e[d],g,c)}if(c!==false||!e[d]){l(e,d,g)}a["SugarMethods"][d]={instance:b,method:g,original:f}})}function j(b){if(b.SugarMethods)return;l(b,"SugarMethods",{});i(b,false,false,{restore:function(){var a=arguments.length===0,c=s(arguments);n(b["SugarMethods"],function(d,e){if(a||c.has(d)){l(e.instance?b.prototype:b,d,e.method)}})},extend:function(c,d,e){if(b===a&&arguments.length===0){D()}else{i(b,e!==false,d,c)}}})}function k(a,b,c){return function(){if(a&&(c===true||!c.apply(this,arguments))){return a.apply(this,arguments)}else{return b.apply(this,arguments)}}}function l(b,c,d){if(h){a.defineProperty(b,c,{value:d,configurable:true,enumerable:false,writable:true})}else{b[c]=d}}function m(b,c){return a.prototype.hasOwnProperty.call(b,c)}function n(a,b){var c;for(c in a){if(!m(a,c))continue;b.call(a,c,a[c])}}function o(b,d,e,f){var g=true,h=typeof b==="object";if(b===d){return true}else if(a.isRegExp(d)&&!h){return c(d).test(b)}else if(a.isFunction(d)){return d.apply(e,[b].concat(f))}else if(a.isObject(d)&&h){n(d,function(a,c){if(!o(b[a],d[a],e,f)){g=false}});return!a.isEmpty(d)&&g}else{return a.equal(b,d)}}function p(b,c){var d,f,g,h,i,j,k,l=typeof b;if(l==="string")return b;f=a.prototype.toString.call(b);g=f==="[object Object]";h=f==="[object Array]";if(b!=null&&g||h){if(!c)c=[];if(c.length>1){j=c.length;while(j--){if(c[j]===b){return"CYC"}}}c.push(b);d=e(b.constructor);i=h?b:a.keys(b).sort();for(j=0;j<i.length;j++){k=h?j:i[j];d+=k+p(b[k],c)}c.pop()}else if(1/b===-Infinity){d="-0"}else{d=e(b&&b.valueOf())}return l+f+d}function q(b,c,d,e){if(v(c)){return b}else if(a.isFunction(c)){return c.apply(d,e||[])}else if(a.isFunction(b[c])){return b[c].call(b)}else{return b[c]}}function r(a,b){return Array.prototype.slice.call(a,b)}function s(a,b,c,d){a=r(a);if(c===true)a=H(a,1);E(a,b||function(){},d);return a}function t(b,c,d){var e=[],f=b.length,g=c[c.length-1]!==false,h;s(c,function(c){if(a.isBoolean(c))return false;if(g){c=c%f;if(c<0)c=f+c}h=d?b.charAt(c)||"":b[c];e.push(h)});return e.length<2?e[0]:e}function u(b,c){return a.prototype.toString.call(b)==="[object "+c+"]"}function v(a){return a===g}function w(b,c,d,e){var f=/^(.+?)(\[.*\])$/,g,h,i,j;if(e!==false&&(h=c.match(f))){j=h[1];i=h[2].replace(/^\[|\]$/g,"").split("][");E(i,function(c){g=!c||c.match(/^\d+$/);if(!j&&a.isArray(b))j=b.length;if(!b[j]){b[j]=g?[]:{}}b=b[j];j=c});if(!j&&g)j=b.length.toString();w(b,j,d)}else if(d.match(/^[\d.]+$/)){b[c]=parseFloat(d)}else if(d==="true"){b[c]=true}else if(d==="false"){b[c]=false}else{b[c]=d}}function x(a){var b=this;n(a,function(a,c){b[a]=c})}function A(){var a={},b;E(["Array","Boolean","Date","Function","Number","String","RegExp"],function(c){b="is"+c;y.push(b);a[b]=function(a){return u(a,c)}});i(Object,false,false,a)}function B(a,b){var c={};E(a,function(a){c[a+(a==="equal"?"s":"")]=function(){return Object[a].apply(null,[this].concat(r(arguments)))}});i(b,true,false,c)}function C(){A();B(z,x)}function D(){B(y.concat(z),Object)}function E(a,b,c,d,e){var f,g,h;P(b);if(c<0)c=a.length+c;h=M(c,0);f=d===true?a.length+h:a.length;while(h<f){g=h%a.length;if(!(g in a)&&e===true){return R(a,b,h,d)}else if(b.call(a,a[g],g,a)===false){break}h++}}function F(a,b,c,d,e){var f,g;E(a,function(a,c,d){if(o(a,b,d,[c,d])){f=a;g=c;return false}},c,d);return e?g:f}function G(a,b){var c=[],d={},e,f;E(a,function(g,h){f=b?q(g,b,a,[g,h,a]):g;e=p(f);if(!J(d,e,g)){d[e]=f;c.push(g)}});return c}function H(b,c,d){c=c||Infinity;d=d||0;var e=[];E(b,function(b){if(a.isArray(b)&&d<c){e=e.concat(H(b,c,d+1))}else{e.push(b)}});return e}function I(a,b,c){var d=[],e={};b.each(function(a){e[p(a)]=a});a.each(function(a){var b=p(a),f=J(e,b,a);if(f!=c){delete e[b];d.push(a)}});return d}function J(a,b,c){return b in a&&(typeof c!=="function"||c===a[b])}function K(a,b,c,d){var e=a.length,f=d==-1,g=f?e-1:0,h=M(c,g);if(h<0){h=e+h}if(!f&&h<0||f&&h>=e){h=g}while(f&&h>=0||!f&&h<e){if(a[h]===b){return h}h+=d}return-1}function L(a,b,c,d){var e=a.length,f=0,h=c!==g,i,j;P(b);if(e==0&&!h){throw new TypeError("Reduce called on empty array with no initial value")}else if(h){i=c}else{i=a[d?e-1:f];f++}while(f<e){j=d?e-f-1:f;if(j in a){i=b.call(g,i,a[j],j,a)}f++}return i}function M(a,b){if(isNaN(a)){return b}else{return parseInt(a>>0)}}function N(a,b){return b in a&&O(b)==b&&b!=4294967295}function O(a){return a>>>0}function P(a){if(!a||!a.call){throw new TypeError("Callback is not callable")}}function Q(a){if(a.length===0){throw new TypeError("First argument must be defined")}}function R(a,b,c,d){var e=[],f;for(f in a){if(N(a,f)&&f>=c){e.push(f.toNumber())}}e.sort().each(function(c){return b.call(a,a[c],c,a)});return a}function S(a,b,c,d){var e=c==="max",f=c==="min";var g=e?-Infinity:Infinity;var h=[];n(a,function(c){var i=a[c];var j=q(i,b,a,d?[i,c.toNumber(),a]:[]);if(j===g){h.push(i)}else if(e&&j>g||f&&j<g){h=[i];g=j}});return h}function T(a,b){var c,d,e,f,g,h,i=0,j=0;a=U(a);b=U(b);do{e=V(a,i);f=V(b,i);c=W(e);d=W(f);if(c===-1||d===-1){c=a.charCodeAt(i)||null;d=b.charCodeAt(i)||null}g=e!==a.charAt(i);h=f!==b.charAt(i);if(g!==h&&j===0){j=g-h}i+=1}while(c!=null&&d!=null&&c===d);if(c===d)return j;return c<d?-1:1}function U(a){if(b[Z]){a=a.toLowerCase()}return a.remove(b[Y])}function V(a,c){var d=a.charAt(c),e=b[$]||{};return e[d]||d}function W(a){if(!a){return null}else{return b[X].indexOf(a)}}function _(){var a="AÁÀÂÃĄBCĆČÇDĎÐEÉÈĚÊËĘFGĞHıIÍÌİÎÏJKLŁMNŃŇÑOÓÒÔPQRŘSŚŠŞTŤUÚÙŮÛÜVWXYÝZŹŻŽÞÆŒØÕÅÄÖ";var c="AÁÀÂÃÄ,CÇ,EÉÈÊË,IÍÌİÎÏ,OÓÒÔÕÖ,Sß,UÚÙÛÜ";b[X]=a.split("").map(function(a){return a+a.toLowerCase()}).join("");var d={};c.split(",").each(function(a){var b=a.charAt(0);a.slice(1).chars(function(a){d[a]=b;d[a.toLowerCase()]=b.toLowerCase()})});b[Z]=true;b[$]=d}function ab(a,b,c){var d=Math[c||"round"];var e=Math.pow(10,(b||0).abs());if(b<0)e=1/e;return d(a*e)/e}function bb(a,b,c,d){var e=[],f=parseInt(a),g=d>0;while(g&&f<=b||!g&&f>=b){e.push(f);if(c)c.call(this,f);f+=d}return e}function cb(a,b,c,d,e,f){var g=a.toFixed(20),h=g.search(/\./),i=g.search(/[1-9]/),j=h-i,k,l,m;if(j>0){j-=1}l=Math.max(Math.min((j/3).floor(),e===false?c.length:e),-d);k=c.charAt(l+d-1);if(j<-9){l=-3;b=j.abs()-9;k=c.first()}m=f?2..pow(10*l):10..pow(l*3);return(a/m).round(b||0).format()+k.trim()}function fb(){eb.each(function(a){var b=c("^["+a.source+"\\s]+$");var d=c("["+a.source+"]");a.names.each(function(a){l(e.prototype,"is"+a,function(){return b.test(this.trim())});l(e.prototype,"has"+a,function(){return d.test(this)})})})}function gb(a,b,c,d){var e=r(b).join("");e=e.replace(/all/,"").replace(/(\w)lphabet|umbers?|atakana|paces?|unctuation/g,"$1");return a.replace(c,function(a){if(d[a]&&(!e||e.has(d[a].type))){return d[a].to}else{return a}})}function sb(){var a;E(hb,function(a){a.start.upto(a.end,function(b){tb(a.type,b.chr(),(b+a.shift).chr())})});rb.each(function(b,c){a=qb.charAt(c);tb("k",a,b);if(b.match(ob)){tb("k",a+"ﾞ",b.shift(1))}if(b.match(pb)){tb("k",a+"ﾟ",b.shift(2))}});nb.each(function(a,b){tb("p",mb.charAt(b),a)});tb("k","ｳﾞ","ヴ");tb("k","ｦﾞ","ヺ");tb("s"," ","　")}function tb(a,b,c){ib[b]={type:a,to:c};jb[c]={type:a,to:b}}function ub(b,c,d,e){var f=String(c);if(f!=c){f=""}if(!a.isNumber(d))d=1;if(!a.isNumber(e))e=1;return f.repeat(d)+b+f.repeat(e)}function vb(a){return e.Inflector&&e.Inflector.acronyms&&e.Inflector.acronyms[a]}function yb(a){if(this.btoa){wb=this.btoa;xb=this.atob;return}var b=/[^A-Za-z0-9\+\/\=]/g;wb=function(b){var c="";var d,e,f;var g,h,i,j;var k=0;do{d=b.charCodeAt(k++);e=b.charCodeAt(k++);f=b.charCodeAt(k++);g=d>>2;h=(d&3)<<4|e>>4;i=(e&15)<<2|f>>6;j=f&63;if(isNaN(e)){i=j=64}else if(isNaN(f)){j=64}c=c+a.charAt(g)+a.charAt(h)+a.charAt(i)+a.charAt(j);d=e=f="";g=h=i=j=""}while(k<b.length);return c};xb=function(c){var d="";var e,f,g;var h,i,j,k;var l=0;if(c.match(b)){throw new Error("String contains invalid base64 characters")}c=c.replace(/[^A-Za-z0-9\+\/\=]/g,"");do{h=a.indexOf(c.charAt(l++));i=a.indexOf(c.charAt(l++));j=a.indexOf(c.charAt(l++));k=a.indexOf(c.charAt(l++));e=h<<2|i>>4;f=(i&15)<<4|j>>2;g=(j&3)<<6|k;d=d+e.chr();if(j!=64){d=d+f.chr()}if(k!=64){d=d+g.chr()}e=f=g="";h=i=j=k=""}while(l<c.length);return d}}function zb(){var a=db().match(/^\s+$/);try{e.prototype.trim.call([1])}catch(b){a=false}var d=c("^["+db()+"]+");var f=c("["+db()+"]+$");i(e,true,!a,{trim:function(){return this.toString().trimLeft().trimRight()},trimLeft:function(){return this.replace(d,"")},trimRight:function(){return this.replace(f,"")}})}function Ab(){yb("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=");zb();sb();fb()}function Bb(a,b){var c="";if(b=="g"||a.global)c+="g";if(b=="i"||a.ignoreCase)c+="i";if(b=="m"||a.multiline)c+="m";if(b=="y"||a.sticky)c+="y";return c}function Cb(b,c,d,e,f){if(!b.timers)b.timers=[];if(!a.isNumber(c))c=0;b.timers.push(setTimeout(function(){b.timers.removeAt(g);d.apply(e,f||[])},c));var g=b.timers.length}function Db(){var b=false;if(Function.prototype.bind){function c(){}var d=c.bind();b=new d instanceof d&&!(new c instanceof d)}i(Function,true,!b,{bind:function(b){var c=this,d=r(arguments,1),e,f;if(!a.isFunction(this)){throw new TypeError("Function.prototype.bind called on a non-function")}f=function(){return c.apply(c.prototype&&this instanceof c?this:b,d.concat(r(arguments)))};e=function(){};e.prototype=this.prototype;f.prototype=new e;return f}})}function Eb(){Db()}var a=Object,b=Array,c=RegExp,d=Date,e=String,f=Number,g;var h=a.defineProperty&&a.defineProperties;var y=["isObject","isNaN"];var z=["keys","values","each","merge","isEmpty","clone","equal","watch","tap","has"];i(a,false,true,{watch:function(b,c,d){if(!h)return;var e=b[c];a.defineProperty(b,c,{get:function(){return e},set:function(a){e=d.call(b,c,e,a)},enumerable:true,configurable:true})}});i(a,false,false,{extended:function(a){return new x(a)},isObject:function(b){if(b==null){return false}else{return u(b,"Object")&&e(b.constructor)===e(a)||b.constructor===x}},isNaN:function(b){return a.isNumber(b)&&b.valueOf()!==b.valueOf()},each:function(a,b){if(b){n(a,function(c,d){b.call(a,c,d,a)})}return a},merge:function(c,d,e,f){var h,i;if(c&&typeof d!="string"){for(h in d){if(!m(d,h)||!c)continue;i=d[h];if(c[h]!==g){if(f===false){continue}if(a.isFunction(f)){i=f.call(d,h,c[h],d[h])}}if(e===true&&i&&typeof i==="object"){if(a.isDate(i)){i=new Date(i.getTime())}else if(a.isRegExp(i)){i=new RegExp(i.source,i.getFlags())}else{if(!c[h])c[h]=b.isArray(i)?[]:{};Object.merge(c[h],d[h],e,f);continue}}c[h]=i}}return c},isEmpty:function(b){if(b==null||typeof b!="object")return!(b&&b.length>0);return a.keys(b).length==0},equal:function(a,b){return p(a)===p(b)},values:function(a,b){var c=[];n(a,function(d,e){c.push(e);if(b)b.call(a,e)});return c},clone:function(c,d){if(c==null||typeof c!=="object")return c;if(b.isArray(c))return c.clone();var e=c.constructor===x?new x:{};return a.merge(e,c,d)},fromQueryString:function(b,c){var d=a.extended(),e;b=b&&b.toString?b.toString():"";b.replace(/^.*?\?/,"").unescapeURL().split("&").each(function(a){var b=a.split("=");if(b.length!==2)return;w(d,b[0],b[1],c)});return d},tap:function(a,b){q(a,b,a,[a]);return a},has:function(a,b){return m(a,b)}});i(a,false,function(){return arguments.length>1},{keys:function(b,c){if(b==null||typeof b!="object"&&!a.isRegExp(b)&&!a.isFunction(b)){throw new TypeError("Object required")}var d=[];n(b,function(a,e){d.push(a);if(c)c.call(b,a,e)});return d}});var X="AlphanumericSortOrder";var Y="AlphanumericSortIgnore";var Z="AlphanumericSortIgnoreCase";var $="AlphanumericSortEquivalents";i(b,false,false,{create:function(a){var b=[];s(arguments,function(a){if(a&&a.callee)a=r(a);b=b.concat(a)});return b},isArray:function(a){return u(a,"Array")}});i(b,true,function(){var b=arguments;return b.length>0&&!a.isFunction(b[0])},{every:function(a,b){var c=this.length,d=0;Q(arguments);while(d<c){if(d in this&&!o(this[d],a,b,[d,this])){return false}d++}return true},some:function(a,b){var c=this.length,d=0;Q(arguments);while(d<c){if(d in this&&o(this[d],a,b,[d,this])){return true}d++}return false},map:function(a,b){var c=this.length,d=0,e,f=new Array(c);Q(arguments);while(d<c){if(d in this){e=this[d];f[d]=q(e,a,b,[e,d,this])}d++}return f},filter:function(a,b){var c=this.length,d=0,e=[];Q(arguments);while(d<c){if(d in this&&o(this[d],a,b,[d,this])){e.push(this[d])}d++}return e}});i(b,true,false,{indexOf:function(b,c){if(a.isString(this))return this.indexOf(b,c);return K(this,b,c,1)},lastIndexOf:function(b,c){if(a.isString(this))return this.lastIndexOf(b,c);return K(this,b,c,-1)},forEach:function(a,b){var c=this.length,d=0;P(a);while(d<c){if(d in this){a.call(b,this[d],d,this)}d++}},reduce:function(a,b){return L(this,a,b)},reduceRight:function(a,b){return L(this,a,b,true)},each:function(a,b,c){E(this,a,b,c,true);return this},find:function(a,b,c){return F(this,a,b,c)},findAll:function(a,b,c){var d=[];E(this,function(b,c,e){if(o(b,a,e,[c,e])){d.push(b)}},b,c);return d},findIndex:function(a,b,c){var d=F(this,a,b,c,true);return v(d)?-1:d},count:function(a){if(v(a))return this.length;return this.findAll(a).length},none:function(){return!this.any.apply(this,arguments)},remove:function(){var a,b=this;s(arguments,function(c){a=0;while(a<b.length){if(o(b[a],c,b,[a,b])){b.splice(a,1)}else{a++}}});return b},removeAt:function(a,b){if(v(a))return this;if(v(b))b=a;for(var c=0;c<=b-a;c++){this.splice(a,1)}return this},add:function(c,d){if(!a.isNumber(f(d))||isNaN(d)||d==-1)d=this.length;else if(d<-1)d+=1;b.prototype.splice.apply(this,[d,0].concat(c));return this},include:function(a,b){return this.clone().add(a,b)},exclude:function(){return b.prototype.remove.apply(this.clone(),arguments)},clone:function(){return a.merge([],this)},unique:function(a){return G(this,a)},union:function(){var a=this;s(arguments,function(b){a=a.concat(b)});return G(a)},intersect:function(){return I(this,s(arguments,null,true),false)},subtract:function(a){return I(this,s(arguments,null,true),true)},at:function(){return t(this,arguments)},first:function(a){if(v(a))return this[0];if(a<0)a=0;return this.slice(0,a)},last:function(a){if(v(a))return this[this.length-1];var b=this.length-a<0?0:this.length-a;return this.slice(b)},from:function(a){return this.slice(a)},to:function(a){if(v(a))a=this.length;return this.slice(0,a)},min:function(a){return G(S(this,a,"min",true))},max:function(a){return G(S(this,a,"max",true))},least:function(){var a=H(S(this.groupBy.apply(this,arguments),"length","min"));return a.length===this.length?[]:G(a)},most:function(){var a=H(S(this.groupBy.apply(this,arguments),"length","max"));return a.length===this.length?[]:G(a)},sum:function(a){var b=a?this.map(a):this;return b.length>0?b.reduce(function(a,b){return a+b}):0},average:function(a){var b=a?this.map(a):this;return b.length>0?b.sum()/b.length:0},groupBy:function(b,c){var d=this,e=a.extended(),f;E(d,function(a,c){f=q(a,b,d,[a,c,d]);if(!e[f])e[f]=[];e[f].push(a)});return e.each(c)},inGroups:function(a,b){var c=arguments.length>1;var d=this;var e=[];var f=(this.length/a).ceil();0..upto(a-1,function(a){var g=a*f;var h=d.slice(g,g+f);if(c&&h.length<f){(f-h.length).times(function(){h=h.add(b)})}e.push(h)});return e},inGroupsOf:function(a,b){var c=[],d=this.length,e=this,f;if(d===0||a===0)return e;if(v(a))a=1;if(v(b))b=null;(d/a).ceil().times(function(d){f=e.slice(a*d,a*d+a);while(f.length<a){f.push(b)}c.push(f)});return c},compact:function(b){var c=[];E(this,function(d,e){if(a.isArray(d)){c.push(d.compact())}else if(b&&d){c.push(d)}else if(!b&&d!=null&&!a.isNaN(d)){c.push(d)}});return c},isEmpty:function(){return this.compact().length==0},flatten:function(a){return H(this,a)},sortBy:function(b,c){var d=this.clone();d.sort(function(e,f){var g,h,i;g=q(e,b,d,[e]);h=q(f,b,d,[f]);if(a.isString(g)&&a.isString(h)){i=T(g,h)}else if(g<h){i=-1}else if(g>h){i=1}else{i=0}return i*(c?-1:1)});return d},randomize:function(){var a=this.concat();for(var b,c,d=a.length;d;b=parseInt(Math.random()*d),c=a[--d],a[d]=a[b],a[b]=c){}return a},zip:function(){var a=r(arguments);return this.map(function(b,c){return[b].concat(a.map(function(a){return c in a?a[c]:null}))})},sample:function(a){var b=[],c=this.clone(),d;if(!(a>0))a=1;while(b.length<a){d=Number.random(0,c.length-1);b.push(c[d]);c.removeAt(d);if(c.length==0)break}return arguments.length>0?b:b[0]}});i(b,true,false,{all:b.prototype.every,any:b.prototype.some,has:b.prototype.some,insert:b.prototype.add});i(f,false,false,{random:function(a,b){var c,d;if(arguments.length==1)b=a,a=0;c=Math.min(a||0,v(b)?1:b);d=Math.max(a||0,v(b)?1:b);return ab(Math.random()*(d-c)+c)}});i(f,true,false,{toNumber:function(){return parseFloat(this,10)},abbr:function(a){return cb(this,a,"kmbt",0,4)},metric:function(a,b){return cb(this,a,"nμm kMGTPE",4,v(b)?1:b)},bytes:function(a,b){return cb(this,a,"kMGTPE",0,v(b)?4:b,true)+"B"},isInteger:function(){return this%1==0},ceil:function(a){return ab(this,a,"ceil")},floor:function(a){return ab(this,a,"floor")},abs:function(){return Math.abs(this)},pow:function(a){if(v(a))a=1;return Math.pow(this,a)},sin:function(){return Math.sin(this)},cos:function(){return Math.cos(this)},tan:function(){return Math.tan(this)},asin:function(){return Math.asin(this)},acos:function(){return Math.acos(this)},atan:function(){return Math.atan(this)},log:function(a){return Math.log(this)/(a?Math.log(a):1)},exp:function(){return Math.exp(this)},sqrt:function(){return Math.sqrt(this)},round:function(a){return ab(this,a,"round")},chr:function(){return e.fromCharCode(this)},isOdd:function(){return!this.isMultipleOf(2)},isEven:function(){return this.isMultipleOf(2)},isMultipleOf:function(a){return this%a===0},upto:function(a,b,c){return bb(this,a,b,c||1)},downto:function(a,b,c){return bb(this,a,b,-(c||1))},times:function(a){if(a){for(var b=0;b<this;b++){a.call(this,b)}}return this.toNumber()},ordinalize:function(){var a,b=this.abs(),c=b.toString().last(2).toNumber();if(c>=11&&c<=13){a="th"}else{switch(b%10){case 1:a="st";break;case 2:a="nd";break;case 3:a="rd";break;default:a="th"}}return this.toString()+a},pad:function(a,b,c){c=c||10;var d=this.toNumber()===0?"":this.toString(c).replace(/^-/,"");d=ub(d,"0",a-d.replace(/\.\d+$/,"").length,0);if(b||this<0){d=(this<0?"-":"+")+d}return d},format:function(b,c,d){var f,g,h,i,j=/(\d+)(\d{3})/;if(e(c).match(/\d/))throw new TypeError("Thousands separator cannot contain numbers.");f=a.isNumber(b)?ab(this,b).toFixed(Math.max(b,0)):this.toString();c=c||",";d=d||".";g=f.split(".");f=g[0];i=g[1]||"";while(f.match(j)){f=f.replace(j,"$1"+c+"$2")}if(i.length>0){f+=d+ub(i,"0",0,b-i.length)}return f},hex:function(a){return this.pad(a||1,false,16)}});var db=function(){return"	\n\f\r   ᠎             \u2028\u2029　﻿"};var eb=[{names:["Arabic"],source:"؀-ۿ"},{names:["Cyrillic"],source:"Ѐ-ӿ"},{names:["Devanagari"],source:"ऀ-ॿ"},{names:["Greek"],source:"Ͱ-Ͽ"},{names:["Hangul"],source:"가-힯ᄀ-ᇿ"},{names:["Han","Kanji"],source:"一-鿿豈-﫿"},{names:["Hebrew"],source:"֐-׿"},{names:["Hiragana"],source:"぀-ゟ・-ー"},{names:["Kana"],source:"぀-ヿ｡-ﾟ"},{names:["Katakana"],source:"゠-ヿ｡-ﾟ"},{names:["Latin"],source:"--ÿĀ-ſƀ-ɏ"},{names:["Thai"],source:"฀-๿"}];var hb=[{type:"a",shift:65248,start:65,end:90},{type:"a",shift:65248,start:97,end:122},{type:"n",shift:65248,start:48,end:57},{type:"p",shift:65248,start:33,end:47},{type:"p",shift:65248,start:58,end:64},{type:"p",shift:65248,start:91,end:96},{type:"p",shift:65248,start:123,end:126}];var ib={};var jb={};var kb=/[\u0020-\u00A5]|[\uFF61-\uFF9F][ﾞﾟ]?/g;var lb=/[\u3000-\u301C]|[\u301A-\u30FC]|[\uFF01-\uFF60]|[\uFFE0-\uFFE6]/g;var mb="｡､｢｣¥¢£";var nb="。、「」￥￠￡";var ob=/[カキクケコサシスセソタチツテトハヒフヘホ]/;var pb=/[ハヒフヘホヲ]/;var qb="ｱｲｳｴｵｧｨｩｪｫｶｷｸｹｺｻｼｽｾｿﾀﾁﾂｯﾃﾄﾅﾆﾇﾈﾉﾊﾋﾌﾍﾎﾏﾐﾑﾒﾓﾔｬﾕｭﾖｮﾗﾘﾙﾚﾛﾜｦﾝｰ･";var rb="アイウエオァィゥェォカキクケコサシスセソタチツッテトナニヌネノハヒフヘホマミムメモヤャユュヨョラリルレロワヲンー・";var wb,xb;i(e,true,false,{escapeRegExp:function(){return c.escape(this)},escapeURL:function(a){return a?encodeURIComponent(this):encodeURI(this)},unescapeURL:function(a){return a?decodeURI(this):decodeURIComponent(this)},escapeHTML:function(){return this.replace(/&/g,"&").replace(/</g,"<").replace(/>/g,">")},unescapeHTML:function(){return this.replace(/</g,"<").replace(/>/g,">").replace(/&/g,"&")},encodeBase64:function(){return wb(this)},decodeBase64:function(){return xb(this)},capitalize:function(a){var b;return this.toLowerCase().replace(a?/[\s\S]/g:/^\S/,function(a){var c=a.toUpperCase(),d;d=b?a:c;b=c!==a;return d})},pad:function(a,b){return ub(this,a,b,b)},padLeft:function(a,b){return ub(this,a,b,0)},padRight:function(a,b){return ub(this,a,0,b)},repeat:function(b){var c="",d=0;if(a.isNumber(b)&&b>0){while(d<b){c+=this;d++}}return c},each:function(b,d){if(a.isFunction(b)){d=b;b=/[\s\S]/g}else if(!b){b=/[\s\S]/g}else if(a.isString(b)){b=c(c.escape(b),"gi")}else if(a.isRegExp(b)){b=b.addFlag("g")}var e=this.match(b)||[];if(d){for(var f=0;f<e.length;f++){e[f]=d.call(this,e[f],f,e)||e[f]}}return e},shift:function(a){var b="";a=a||0;this.codes(function(c){b+=(c+a).chr()});return b},codes:function(a){var b=[];for(var c=0;c<this.length;c++){var d=this.charCodeAt(c);b.push(d);if(a)a.call(this,d,c)}return b},chars:function(a){return this.each(a)},words:function(a){return this.trim().each(/\S+/g,a)},lines:function(a){return this.trim().each(/^.*$/gm,a)},paragraphs:function(a){var b=this.trim().split(/[\r\n]{2,}/);b=b.map(function(b){if(a)var c=a.call(b);return c?c:b});return b},startsWith:function(b,d){if(v(d))d=true;var e=a.isRegExp(b)?b.source.replace("^",""):c.escape(b);return c("^"+e,d?"":"i").test(this)},endsWith:function(b,d){if(v(d))d=true;var e=a.isRegExp(b)?b.source.replace("$",""):c.escape(b);return c(e+"$",d?"":"i").test(this)},isBlank:function(){return this.trim().length===0},has:function(b){return this.search(a.isRegExp(b)?b:RegExp.escape(b))!==-1},add:function(a,b){return this.split("").add(a,b).join("")},remove:function(a){return this.replace(a,"")},hankaku:function(){return gb(this,arguments,lb,jb)},zenkaku:function(){return gb(this,arguments,kb,ib)},hiragana:function(a){var b=this;if(a!==false){b=b.zenkaku("k")}return b.replace(/[\u30A1-\u30F6]/g,function(a){return a.shift(-96)})},katakana:function(){return this.replace(/[\u3041-\u3096]/g,function(a){return a.shift(96)})},toNumber:function(a){var b=this.replace(/,/g,"");return b.match(/\./)?parseFloat(b):parseInt(b,a||10)},reverse:function(){return this.split("").reverse().join("")},compact:function(){return this.trim().replace(/([\r\n\s　])+/g,function(a,b){return b==="　"?b:" "})},at:function(){return t(this,arguments,true)},first:function(a){if(v(a))a=1;return this.substr(0,a)},last:function(a){if(v(a))a=1;var b=this.length-a<0?0:this.length-a;return this.substr(b)},from:function(a){return this.slice(a)},to:function(a){if(v(a))a=this.length;return this.slice(0,a)},toDate:function(a){var b=this.toString();return d.create?d.create(b,a):new d(b)},dasherize:function(){return this.underscore().replace(/_/g,"-")},underscore:function(){return this.replace(/[-\s]+/g,"_").replace(String.Inflector&&String.Inflector.acronymRegExp,function(a,b){return(b>0?"_":"")+a.toLowerCase()}).replace(/([A-Z\d]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,"$1_$2").toLowerCase()},camelize:function(a){return this.underscore().replace(/(^|_)([^_]+)/g,function(b,c,d,e){var f=vb(d),g=a!==false||e>0;if(f)return g?f:f.toLowerCase();return g?d.capitalize():d})},spacify:function(){return this.underscore().replace(/_/g," ")},stripTags:function(){var a=this,b=arguments.length>0?arguments:[""];s(b,function(b){a=a.replace(c("</?"+b.escapeRegExp()+"[^<>]*>","gi"),"")});return a},removeTags:function(){var a=this,b=arguments.length>0?arguments:["\\S+"];s(b,function(b){var d=c("<("+b+")[^<>]*(?:\\/>|>.*?<\\/\\1>)","gi");a=a.replace(d,"")});return a},truncate:function(a,b,d,f){var g,h="",i="",j=this.toString(),k="["+db()+"]+",l="[^"+db()+"]*",m=c(k+l+"$");f=v(f)?"...":e(f);if(j.length<=a){return j}switch(d){case"left":g=j.length-a;h=f;j=j.slice(g);m=c("^"+l+k);break;case"middle":g=Math.floor(a/2);i=f+j.slice(j.length-g).trimLeft();j=j.slice(0,g);break;default:g=a;i=f;j=j.slice(0,g)}if(b===false&&this.slice(g,g+1).match(/\S/)){j=j.remove(m)}return h+j+i},assign:function(){var b=a.extended();s(arguments,function(c,d){if(a.isObject(c)){b.merge(c)}else{b[d+1]=c}});return this.replace(/\{([^{]+?)\}/g,function(a,c){return m(b,c)?b[c]:a})}});i(e,true,function(b){return a.isRegExp(b)},{split:function(a,d){var e=[];var f=0;var a=c(a).addFlag("g");var h,i,j,k;if(!c.NPCGSupport){h=RegExp("^"+a.source+"$(?!\\s)",a.getFlags())}if(v(d)||d<0){d=Infinity}else{d=d|0;if(!d)return[]}while(i=a.exec(this)){j=i.index+i[0].length;if(j>f){e.push(this.slice(f,i.index));if(!c.NPCGSupport&&i.length>1){i[0].replace(h,function(){for(var a=1;a<arguments.length-2;a++){if(v(arguments[a])){i[a]=g}}})}if(i.length>1&&i.index<this.length){b.prototype.push.apply(e,i.slice(1))}k=i[0].length;f=j;if(e.length>=d){break}}if(a.lastIndex===i.index){a.lastIndex++}}if(f===this.length){if(k||!a.test(""))e.push("")}else{e.push(this.slice(f))}return e.length>d?e.slice(0,d):e}});i(e,true,false,{insert:e.prototype.add});c.NPCGSupport=v(c("()??").exec("")[1]);i(c,false,false,{escape:function(b){if(!a.isString(b))b=String(b);return b.replace(/([\\/'*+?|()\[\]{}.^$])/g,"\\$1")}});i(c,true,false,{getFlags:function(){return Bb(this)},setFlags:function(a){return c(this.source,a)},addFlag:function(a){return this.setFlags(Bb(this,a))},removeFlag:function(a){return this.setFlags(Bb(this).replace(a,""))}});i(Function,true,false,{lazy:function(a,b){function i(){if(e&&d.length>b-2)return;d.push([this,arguments]);f()}var c=this,d=[],e=false,f,g,h;a=a||1;b=b||Infinity;g=a.ceil();h=ab(g/a);f=function(){if(e||d.length==0)return;var a=Math.max(d.length-h,0);while(d.length>a){Function.prototype.apply.apply(c,d.shift())}Cb(i,g,function(){e=false;f()});e=true};return i},delay:function(a){var b=this;var c=r(arguments,1);Cb(b,a,b,b,c);return b},throttle:function(a){return this.lazy(a,1)},debounce:function(a){var b=this;return function(){b.cancel();Cb(b,a,b,this,arguments)}},cancel:function(){if(a.isArray(this.timers)){while(this.timers.length>0){clearTimeout(this.timers.shift())}}return this},after:function(b){var c=this,d=0,e=[];if(!a.isNumber(b)){b=1}else if(b===0){c.call();return c}return function(){var a;e.push(Array.create(arguments));d++;if(d==b){a=c.call(this,e);d=0;e=[];return a}}},once:function(){var a=this;return function(){return m(a,"memo")?a["memo"]:a["memo"]=a.apply(this,arguments)}},fill:function(){var a=this,b=r(arguments);return function(){var c=r(arguments);E(b,function(a,b){if(a!=null||b>=c.length)c.splice(b,0,a)});return a.apply(this,c)}}});C();Ab();Eb();_();j(d);Object.initializeClass=j})();(function(){function g(a){return a!==e}function h(a){return a===e}function x(a){var b=a["code"];if(a.formatsAdded)return;y("("+a["months"].compact().join("|")+")",["month"],b);y("("+a["weekdays"].compact().join("|")+")",["weekday"],b);y("("+a["modifiers"].filter(function(a){return a.name==="day"}).map("src").join("|")+")",["day"],b);a["formats"].each(function(c){a.addFormat(c,b,false)});a.formatsAdded=true}function y(b,c,d,e,f){f=f||"push";p[f]({variant:e,locale:d,reg:a("^"+b+"$","i"),to:c})}function z(a,c,d){if(c&&(!b.isString(a)||!a))a=Date["currentLocale"];if(a&&!v[a]||d)A(a,d);return v[a]}function A(a,b){function c(a,b){a=a.split("+").map(function(a){return a.replace(/(.+):(.+)$/,function(a,b,c){return c.split("|").map(function(a){return b+a}).join("|")})}).join("|");return a.split("|").each(b)}function d(a,d,e){var f=[];if(!b[a])return;b[a].forEach(function(a,b){c(a,function(a,c){f[c*e+b]=a.toLowerCase()})});if(d)f=f.concat(b[a].map(function(a){return a.slice(0,3).toLowerCase()}));return b[a]=f}function e(a,c){var d="[0-9０-９]"+(a?"{"+a+","+c+"}":"+");if(b["digits"])d+="|["+b["digits"]+"]+";return d}function f(){var a=[e()].concat(b["articles"]);if(!b["digits"])a=a.concat(b["numbers"]);return a.compact().join("|")}function g(){var a=[];b.modifiersByName={};b["modifiers"].each(function(d){c(d.src,function(c){b.modifiersByName[c]=d;a.push({name:d.name,src:c,value:d.value})})});a.groupBy("name",function(a,c){c=c.map("src");if(a==="day")c=c.concat(b["weekdays"]);b[a]=c.join("|")});b["modifiers"]=a}b=b||B(a);if(!b){throw new Error("Invalid locale.")}d("months",true,12);d("weekdays",true,7);d("units",false,8);d("numbers",false,10);b["code"]=a;b["date"]=e(1,2);b["year"]=e(4,4);b["num"]=f();g();if(b["monthSuffix"]){b["month"]=e(1,2);b["months"]=1..upto(12).map(function(a){return a+b["monthSuffix"]})}v[a]=new D(b)}function B(a){function d(a){return!!(c[0]&Math.pow(2,a-1))}if(a.slice(0,3)=="en-")a="en";if(!w[a])return null;var b={modifiers:[]},c=w[a].split(";");["months","weekdays","units","numbers","articles","optionals","formats"].each(function(a,d){b[a]=c[d+2]?c[d+2].split(","):[]});b["outputFormat"]=c[9];["day","sign","shift","edge"].each(function(a,d){if(!c[d+10])return;c[d+10].split(",").each(function(c,d){if(c)b["modifiers"].push({name:a,src:c,value:d-2})})});if(d(1)){b["digits"]=m+n;if(b["numbers"].length>0){b["digits"]+=b["numbers"].join("")}else{b["numbers"]=m.split("")}b["monthSuffix"]=c[1]}b["capitalizeUnit"]=a=="de";b["hasPlural"]=d(2);b["pastRelativeFormat"]=b["formats"][0];b["futureRelativeFormat"]=b["formats"][d(3)?1:0];b["durationFormat"]=b["formats"][0].replace(/\s*\{sign\}\s*/,"");return b}function C(a){if(!a)a=Date["currentLocale"];return a!="en"&&a!="en-US"}function D(a){b.merge(this,a)}function E(a){var c,d;if(b.isObject(a[0])){return a}else if(a.length==1&&b.isNumber(a[0])){return[a[0]]}c={};q.each(function(b,d){c[b.unit]=a[d]});return[c]}function F(a,b){if(b!="date"&&b!="month"&&b!="year")return a;return a.replace(o,function(a){var b=m.indexOf(a);return b+1||""})}function G(a,b){var c={},d,e;b.each(function(b,f){d=a[f+1];if(h(d)||d==="")return;d=F(d.hankaku("n"),b);if(b==="year")c.yearAsString=d;e=parseFloat(d.replace(/,/,"."));c[b]=!isNaN(e)?e:d.toLowerCase()});return c}function H(a,d){var e=new c,f=false,h,i,j,k,l,m,n;if(b.isDate(a)){e=a}else if(b.isNumber(a)){e=new c(a)}else if(b.isObject(a)){e=(new c).set(a,true);k=a}else if(b.isString(a)){x(z(d,true));i=C(d);a=a.trim().replace(/\.+$/,"").replace(/^now$/,"");p.each(function(c){var d=a.match(c.reg);if(d){j=c;k=G(d,j.to);h=z(j.locale,true);if(k.timestamp){e.setTime(0);k={milliseconds:k.timestamp};return false}if(j.variant&&!b.isString(k["month"])&&(b.isString(k["date"])||i)){n=k["month"];k["month"]=k["date"];k["date"]=n}if(k["year"]&&k.yearAsString.length===2){k["year"]=M(k["year"])}if(k["month"]){k["month"]=h.getMonth(k["month"]);if(k["shift"]&&!k["unit"])k["unit"]=h["units"][7]}if(k["weekday"]&&k["date"]){delete k["weekday"]}else if(k["weekday"]){k["weekday"]=h.getWeekday(k["weekday"]);if(k["shift"]&&!k["unit"])k["unit"]=h["units"][5]}if(k["day"]&&(n=h.modifiersByName[k["day"]])){k["day"]=n.value;e.resetTime();f=true}else if(k["day"]&&(n=h.getWeekday(k["day"]))>-1){delete k["day"];k["weekday"]=n}if(k["date"]&&!b.isNumber(k["date"])){k["date"]=h.getNumericDate(k["date"])}if(k["meridian"]){if(k["meridian"]==="pm"&&k["hour"]<12)k["hour"]+=12}if("offset_hours"in k||"offset_minutes"in k){k["utc"]=true;k["offset_minutes"]=k["offset_minutes"]||0;k["offset_minutes"]+=k["offset_hours"]*60;if(k["offset_sign"]==="-"){k["offset_minutes"]*=-1}k["minute"]-=k["offset_minutes"]}if(k["unit"]){f=true;m=h.getNumber(k["num"]);l=h.getEnglishUnit(k["unit"]);if(k["shift"]||k["edge"]){m*=(n=h.modifiersByName[k["shift"]])?n.value:0;if(l==="month"&&g(k["date"])){e.set({day:k["date"]},true);delete k["date"]}if(l==="year"&&g(k["month"])){e.set({month:k["month"],day:k["date"]},true);delete k["month"];delete k["date"]}}if(k["sign"]&&(n=h.modifiersByName[k["sign"]])){m*=n.value}if(g(k["weekday"])){e.set({weekday:k["weekday"]},true);delete k["weekday"]}k[l]=(k[l]||0)+m}if(k["year_sign"]==="-"){k["year"]*=-1}r.slice(1,4).each(function(a,b){var c=k[a.unit],d=c%1;if(d){k[r[b].unit]=(d*(a.unit==="second"?1e3:60)).round();k[a.unit]=c|0}});return false}});if(!j){e=a?new c(a):new c}else if(f){e.advance(k)}else if(k["utc"]){e.resetTime();e.setUTC(k,true)}else{e.set(k,true)}if(k&&k["edge"]){n=h.modifiersByName[k["edge"]];r.slice(4).each(function(a){if(g(k[a.unit])){l=a.unit;return false}});if(l==="year")k.specificity="month";else if(l==="month"||l==="week")k.specificity="day";e[(n.value<0?"endOf":"beginningOf")+l.capitalize()]();if(n.value===-2)e.resetTime()}}return{date:e,set:k}}function I(c,d,e,f){var g,h=z(f,true),i=a(/^[A-Z]/),j,k;if(!c.isValid()){return"Invalid Date"}else if(Date[d]){d=Date[d]}else if(b.isFunction(d)){g=Q(c.millisecondsFromNow());d=d.apply(c,g.concat(h))}if(!d&&!e){d=h["outputFormat"]}else if(!d&&e){g=g||Q(c.millisecondsFromNow());if(g[1]===0){g[1]=1;g[0]=1}return h.relative(g)}t.each(function(e){d=d.replace(a("\\{("+e.token+")(\\d)?\\}",e.word?"i":""),function(a,d,f){var g=e.format(c,h,f||1,d),j=d.length,k=d.match(/^(.)\1+$/);if(e.word){if(j===3)g=g.to(3);if(k||d.match(i))g=g.capitalize()}else if(k&&!e.text){g=(b.isNumber(g)?g.pad(j):g.toString()).last(j)}return g})});return d}function J(a,b,d){var e=H(b),f=0,g=0,h=0,i;if(d>0){g=h=d;i=true}if(!e.date.isValid())return false;if(e.set&&e.set.specificity){u.each(function(b,c){if(b.unit===e.set.specificity){f=b.multiplier(e.date,a-e.date)-1}});if(e.set["edge"]||e.set["shift"]){e.date["beginningOf"+e.set.specificity.capitalize()]()}if(!i&&e.set["sign"]&&e.set.specificity!="millisecond"){g=50;h=-50}}var j=a.getTime();var k=e.date.getTime();var l=k+f;if(e.set&&e.set.specificity=="week"&&(new Date(l+1)).getHours()!=0){l+=c["DSTOffset"]}return j>=k-g&&j<=l+h}function K(a,c,d,e,f){if(b.isNumber(c)&&f){c={milliseconds:c}}else if(b.isNumber(c)){a.setTime(c);return a}if(c["date"])c["day"]=c["date"];if(!f&&h(c["day"])&&g(c["weekday"])){L(a,"set",e,"Weekday",c["weekday"]);c["day"]=L(a,"get",e,"Date");delete c["weekday"]}r.each(function(b){if(g(c[b.unit])||g(c[b.unit+"s"])){c.specificity=b.unit;return false}else if(d&&b.unit!=="week"&&b.unit!=="year"){L(a,"set",e,b.method,b.unit==="day"?1:0)}});u.each(function(b,d){var i=b.unit;var j=b.method;var k=g(c[i])?c[i]:c[i+"s"];if(h(k))return;if(f){if(i==="week"){k=(c["day"]||0)+k*7;j="Date"}k=k*f+L(a,"get","",j)}L(a,"set",e,j,k);if(i==="month"){R(a,k)}});return a}function L(a,b,c,d,e){return a[b+(c?"UTC":"")+d](e)}function M(a){return((new c).getFullYear()/100).round()*100-(a/100).round()*100+a}function N(a,b){var c=L(a,"get",b,"Hours");return c===0?12:c-(c/13|0)*12}function O(a,b){var c=L(a,"get",b,"Hours");return c<12?"am":"pm"}function P(a){var b=a.getDay()||7;a.addDays(4-b).resetTime();return 1+(a.daysSince(a.clone().beginningOfYear())/7|0)}function Q(a){var b,c=a.abs(),d=c,e=0;r.from(1).each(function(a,f){b=(c/a.multiplier()*10).round()/10|0;if(b>=1){d=b;e=f+1}});return[d,e,a]}function R(a,b){if(b<0)b+=12;if(b%12!=a.getMonth()){a.setDate(0)}}function S(a){var c;if(b.isNumber(a[1])){c=E(a)[0]}else{c=a[0]}return H(c,a[1]).date}function T(){var a={};u.each(function(b,d){var e=b.unit;var f=e.capitalize();var g=b.multiplier();var h=function(a,b){return((this.getTime()-c.create(a,b).getTime())/g).round()};var i=function(a,b){return((c.create(a,b).getTime()-this.getTime())/g).round()};a[e+"sAgo"]=i;a[e+"sUntil"]=i;a[e+"sSince"]=h;a[e+"sFromNow"]=h;a["add"+f+"s"]=function(a){var b={};b[e]=a;return this.advance(b)};W(e,g);if(d<3){["Last","This","Next"].each(function(b){a["is"+b+f]=function(){return this.is(b+" "+e)}})}if(d<4){a["beginningOf"+f]=function(){var a={};switch(e){case"year":a["year"]=this.getFullYear();break;case"month":a["month"]=this.getMonth();break;case"day":a["day"]=this.getDate();break;case"week":a["weekday"]=0;break}return this.set(a,true)};a["endOf"+f]=function(){var a={hours:23,minutes:59,seconds:59,milliseconds:999};switch(e){case"year":a["month"]=11;a["day"]=31;break;case"month":a["day"]=this.daysInMonth();break;case"week":a["weekday"]=6;break}return this.set(a,true)}}});c.extend(a)}function U(){q=u.clone().removeAt(2);r=u.clone().reverse();var a="\\d{1,2}|"+f["months"].join("|");s.each(function(b){y(b.src.replace(/\{month\}/,a)+(b.time===false?"":l),b.to.concat(i),"en",b.variant)});y(k,i)}function V(){var a={};var b=f["weekdays"].slice(0,7);var d=f["months"].slice(0,12);["today","yesterday","tomorrow","weekday","weekend","future","past"].concat(b).concat(d).each(function(b){a["is"+b.capitalize()]=function(){return this.is(b)}});c.extend(a)}function W(a,b){function f(){return(this*b).round()}function g(){return S(arguments)[c](this)}function h(){return S(arguments)[c](-this)}var c="add"+a.capitalize()+"s",e={};e[a]=f;e[a+"s"]=f;e[a+"Before"]=h;e[a+"sBefore"]=h;e[a+"Ago"]=h;e[a+"sAgo"]=h;e[a+"After"]=g;e[a+"sAfter"]=g;e[a+"FromNow"]=g;e[a+"sFromNow"]=g;d.extend(e)}function X(){c.extend({DSTOffset:((new c(2e3,6,1)).getTimezoneOffset()-(new c(2e3,0,1)).getTimezoneOffset())*60*1e3,INTERNATIONAL_TIME:"{h}:{mm}:{ss}",RFC1123:"{Dow}, {dd} {Mon} {yyyy} {HH}:{mm}:{ss} {tz}",RFC1036:"{Weekday}, {dd}-{Mon}-{yy} {HH}:{mm}:{ss} {tz}",ISO8601_DATE:"{yyyy}-{MM}-{dd}",ISO8601_DATETIME:"{yyyy}-{MM}-{dd}T{HH}:{mm}:{ss}.{fff}{isotz}"},false,false)}function Y(a){var b=new c(c.UTC(1999,11,31)),d="1999-12-31T00:00:00.000Z",e={};if(!b[a]||b[a]()!==d){e[a]=function(){return I(this.toUTC(),c["ISO8601_DATETIME"])};c.extend(e,true)}}function Z(){f=c.setLocale("en");T();U();V();Y("toISOString");Y("toJSON");X()}var a=RegExp,b=Object,c=Date,d=Number,e,f;var i=["hour","minute","second","meridian","utc","offset_sign","offset_hours","offset_minutes"];var j="\\d{1,2}(?:[,.]\\d+)?";var k="("+j+"):?("+j+")?:?("+j+")?\\s*(am|pm)?(?:(Z)|(?:([+-])(\\d{2})(?::?(\\d{2}))?)?)?";var l="\\s*(?:(?:t|at |\\s+)"+k+")?";var m="一二三四五六七八九";var n="十百千万";var o=a("["+m+n+"]","g");var p=[];var q;var r;var s=[{src:"(\\d{4})",to:["year"]},{src:"([+-])?(\\d{4})[-.]?({month})[-.]?(\\d{1,2})?",to:["year_sign","year","month","date"]},{src:"(\\d{1,2})[-.\\/]({month})[-.\\/]?(\\d{2,4})?",to:["month","date","year"],variant:true},{src:"\\/Date\\((\\d+(?:\\+\\d{4})?)\\)\\/",to:["timestamp"],time:false}];var t=[{token:"f{1,4}|ms|milliseconds",format:function(a){return a.getMilliseconds()}},{token:"ss?|seconds",format:function(a,b){return a.getSeconds()}},{token:"mm?|minutes",format:function(a,b){return a.getMinutes()}},{token:"hh?|hours|12hr",format:function(a){return N(a)}},{token:"HH?|24hr",format:function(a){return a.getHours()}},{token:"dd?|date|day",format:function(a){return a.getDate()}},{token:"dow|weekday",word:true,format:function(a,b,c,d){return b["weekdays"][a.getDay()+(c-1)*7]}},{token:"MM?",format:function(a){return a.getMonth()+1}},{token:"mon|month",word:true,format:function(a,b,c,d){return b["months"][a.getMonth()+(c-1)*12]}},{token:"y{2,4}|year",format:function(a){return a.getFullYear()}},{token:"[Tt]{1,2}",format:function(a,b,c,d){var e=O(a);if(d.length===1)e=e.first();if(d.first()==="T")e=e.toUpperCase();return e}},{token:"z{1,4}|tz|timezone",text:true,format:function(a,b,c,d){var e=a.getUTCOffset();if(d=="z"||d=="zz"){e=e.replace(/(\d{2})(\d{2})/,function(a,b,c){return b.toNumber().pad(d.length)})}return e}},{token:"iso(tz|timezone)",format:function(a){return a.getUTCOffset(true)}},{token:"ord",format:function(a){return a.getDate().ordinalize()}}];var u=[{unit:"year",method:"FullYear",multiplier:function(a){var b=a?a.isLeapYear()?1:0:.25;return(365+b)*24*60*60*1e3}},{unit:"month",method:"Month",multiplier:function(a,b){var c=30.4375,d;if(a){d=a.daysInMonth();if(b<=d.days()){c=d}}return c*24*60*60*1e3}},{unit:"week",method:"Week",multiplier:function(){return 7*24*60*60*1e3}},{unit:"day",method:"Date",multiplier:function(){return 24*60*60*1e3}},{unit:"hour",method:"Hours",multiplier:function(){return 60*60*1e3}},{unit:"minute",method:"Minutes",multiplier:function(){return 60*1e3}},{unit:"second",method:"Seconds",multiplier:function(){return 1e3}},{unit:"millisecond",method:"Milliseconds",multiplier:function(){return 1}}];var v={};var w={en:"2;;January,February,March,April,May,June,July,August,September,October,November,December;Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday;millisecond:|s,second:|s,minute:|s,hour:|s,day:|s,week:|s,month:|s,year:|s;one,two,three,four,five,six,seven,eight,nine,ten;a,an,the;the,st|nd|rd|th,of;{num} {unit} {sign},{num} {unit=4-5} {sign} {day},{weekday?} {month} {date}{1} {year?} {time?},{date} {month} {year},{month} {year},{shift?} {weekday} {time?},{shift} week {weekday} {time?},{shift} {unit=5-7},{0} {edge} of {shift?} {unit=4-7?}{month?}{year?},{weekday} {2} {shift} week,{0} {date}{1} of {month},{0}{month?} {date?}{1} of {shift} {unit=6-7},{day} at {time?},{time} {day};{Month} {d}, {yyyy};,yesterday,today,tomorrow;,ago|before,,from now|after|from;,last,the|this,next;last day,end,,first day|beginning",ja:"1;月;;日曜日,月曜日,火曜日,水曜日,木曜日,金曜日,土曜日;ミリ秒,秒,分,時間,日,週間|週,ヶ月|ヵ月|月,年;;;;{num}{unit}{sign},{shift}{unit=5-7}{weekday?},{year}年{month?}月?{date?}日?,{month}月{date?}日?,{date}日;{yyyy}年{M}月{d}日;一昨日,昨日,今日,明日,明後日;,前,,後;,去|先,,来",ko:"1;월;;일요일,월요일,화요일,수요일,목요일,금요일,토요일;밀리초,초,분,시간,일,주,개월|달,년;일|한,이,삼,사,오,육,칠,팔,구,십;;;{num}{unit} {sign},{shift} {unit=5-7},{shift} {unit=5?} {weekday},{year}년{month?}월?{date?}일?,{month}월{date?}일?,{date}일;{yyyy}년{M}월{d}일;그저께,어제,오늘,내일,모레;,전,,후;,지난|작,이번,다음|내",ru:"4;;Январ:я|ь,Феврал:я|ь,Март:а|,Апрел:я|ь,Ма:я|й,Июн:я|ь,Июл:я|ь,Август:а|,Сентябр:я|ь,Октябр:я|ь,Ноябр:я|ь,Декабр:я|ь;Воскресенье,Понедельник,Вторник,Среда,Четверг,Пятница,Суббота;миллисекунд:а|у|ы|,секунд:а|у|ы|,минут:а|у|ы|,час:||а|ов,день|день|дня|дней,недел:я|ю|и|ь|е,месяц:||а|ев|е,год|год|года|лет|году;од:ин|ну,дв:а|е,три,четыре,пять,шесть,семь,восемь,девять,десять;;в|на,года;{num} {unit} {sign},{sign} {num} {unit},{date} {month} {year?} {1},{month} {year},{0} {shift} {unit=5-7},{0} {shift} {weekday};{d} {month} {yyyy} года;позавчера,вчера,сегодня,завтра,послезавтра;,назад,,через;,прошл:ый|ой|ом,,следующ:ий|ей|ем",es:"6;;enero,febrero,marzo,abril,mayo,junio,julio,agosto,septiembre,octubre,noviembre,diciembre;domingo,lunes,martes,miércoles|miercoles,jueves,viernes,sábado|sabado;milisegundo:|s,segundo:|s,minuto:|s,hora:|s,día|días|dia|dias,semana:|s,mes:|es,año|años|ano|anos;uno,dos,tres,cuatro,cinco,seis,siete,ocho,nueve,diez;;el,de;{sign} {num} {unit},{num} {unit} {sign},{shift} {weekday},{weekday} {shift},{date?} {1} {month} {1} {year?},{0} {unit=5-7} {shift},{0} {shift} {unit=5-7};{d} de {month} de {yyyy};anteayer,ayer,hoy,mañana|manana;,hace,,de ahora;,pasad:o|a,,próximo|próxima|proximo|proxima",pt:"6;;janeiro,fevereiro,março,abril,maio,junho,julho,agosto,setembro,outubro,novembro,dezembro;domingo,segunda-feira,terça-feira,quarta-feira,quinta-feira,sexta-feira,sábado|sabado;milisegundo:|s,segundo:|s,minuto:|s,hora:|s,dia:|s,semana:|s,mês|mêses|mes|meses,ano:|s;um,dois,três|tres,quatro,cinco,seis,sete,oito,nove,dez,uma,duas;;a,de;{num} {unit} {sign},{sign} {num} {unit},{date?} {1} {month} {1} {year?},{0} {unit=5-7} {shift},{0} {shift} {unit=5-7},{0} {shift} {weekday};{d} de {month} de {yyyy};anteontem,ontem,hoje,amanh:ã|a;,atrás|atras|há|ha,,daqui a;,passad:o|a,,próximo|próxima|proximo|proxima",fr:"2;;janvier,février|fevrier,mars,avril,mai,juin,juillet,août,septembre,octobre,novembre,décembre|decembre;dimanche,lundi,mardi,mercredi,jeudi,vendredi,samedi;milliseconde:|s,seconde:|s,minute:|s,heure:|s,jour:|s,semaine:|s,mois,an:|s|née|nee;un:|e,deux,trois,quatre,cinq,six,sept,huit,neuf,dix;;l'|la|le;{sign} {num} {unit},{sign} {num} {unit},{0} {date?} {month} {year?},{0} {unit=5-7} {shift},{0} {weekday} {shift};{d} {month} {yyyy};,hier,aujourd'hui,demain;,il y a,,dans|d'ici;,derni:èr|er|ère|ere,,prochain:|e",it:"2;;Gennaio,Febbraio,Marzo,Aprile,Maggio,Giugno,Luglio,Agosto,Settembre,Ottobre,Novembre,Dicembre;Domenica,Luned:ì|i,Marted:ì|i,Mercoled:ì|i,Gioved:ì|i,Venerd:ì|i,Sabato;millisecond:o|i,second:o|i,minut:o|i,or:a|e,giorn:o|i,settiman:a|e,mes:e|i,ann:o|i;un:|'|a|o,due,tre,quattro,cinque,sei,sette,otto,nove,dieci;;l'|la|il;{num} {unit} {sign},{weekday?} {date?} {month} {year?},{0} {unit=5-7} {shift},{0} {shift} {unit=5-7},{shift} {weekday};{d} {month} {yyyy};,ieri,oggi,domani,dopodomani;,fa,,da adesso;,scors:o|a,,prossim:o|a",de:"2;;Januar,Februar,März|Marz,April,Mai,Juni,Juli,August,September,Oktober,November,Dezember;Sonntag,Montag,Dienstag,Mittwoch,Donnerstag,Freitag,Samstag;Millisekunde:|n,Sekunde:|n,Minute:|n,Stunde:|n,Tag:|en,Woche:|n,Monat:|en,Jahr:|en;ein:|e|er|em|en,zwei,drei,vier,fuenf,sechs,sieben,acht,neun,zehn;;der;{sign} {num} {unit},{num} {unit} {sign},{num} {unit} {sign},{sign} {num} {unit},{weekday?} {date?} {month} {year?},{shift} {unit=5-7},{shift} {weekday};{d}. {Month} {yyyy};vorgestern,gestern,heute,morgen,übermorgen|ubermorgen|uebermorgen;,vor:|her,,in;,letzte:|r|n|s,,nächste:|r|n|s+naechste:|r|n|s+kommende:n|r","zh-TW":"1;月;;日,一,二,三,四,五,六;毫秒,秒鐘,分鐘,小時,天,個星期|週,個月,年;;;日|號;{num}{unit}{sign},星期{weekday},{shift}{unit=5-7},{shift}{unit=5}{weekday},{year}年{month?}月?{date?}{0},{month}月{date?}{0},{date}{0};{yyyy}年{M}月{d}日;前天,昨天,今天,明天,後天;,前,,後;,上|去,這,下|明","zh-CN":"1;月;;日,一,二,三,四,五,六;毫秒,秒钟,分钟,小时,天,个星期|周,个月,年;;;日|号;{num}{unit}{sign},星期{weekday},{shift}{unit=5-7},{shift}{unit=5}{weekday},{year}年{month?}月?{date?}{0},{month}月{date?}{0},{date}{0};{yyyy}年{M}月{d}日;前天,昨天,今天,明天,后天;,前,,后;,上|去,这,下|明"};b.merge(D.prototype,{getMonth:function(c){if(b.isNumber(c)){return c-1}else{return this["months"].findIndex(a(c,"i"))%12}},getWeekday:function(b){return this["weekdays"].findIndex(a(b,"i"))%7},getNumber:function(a){var c;if(b.isNumber(a)){return a}else if(a&&(c=this["numbers"].indexOf(a))!==-1){return(c+1)%10}else{return 1}},getNumericDate:function(a){var b=this;return a.replace(this["numbers"][9],"").each(function(a){return b.getNumber(a)}).join("")},getEnglishUnit:function(a){return f["units"][this["units"].indexOf(a)%8]},relative:function(a){return this.convertAdjustedToFormat(a,a[2]>0?"futureRelativeFormat":"pastRelativeFormat")},duration:function(a){return this.convertAdjustedToFormat(Q(a),"durationFormat")},convertAdjustedToFormat:function(a,b){var c=a[0],d=a[1],e=a[2],f,g,h,i;if(this["code"]=="ru"){h=c.toString().from(-1);switch(true){case h==1:i=1;break;case h>=2&&h<=4:i=2;break;default:i=3}}else{i=this["hasPlural"]&&c>1?1:0}g=this["units"][i*8+d]||this["units"][d];if(this["capitalizeUnit"])g=g.capitalize();f=this["modifiers"].find(function(a){return a.name=="sign"&&a.value==(e>0?1:-1)});return this[b].assign({num:c,unit:g,sign:f.src})},addFormat:function(a,b,c){var d=[],e=this;if(c!==false)e.formats.push(a);a=a.replace(/\s+/g,"[-,. ]*");a=a.replace(/\{(.+?)\}/g,function(a,b){var c=b.match(/\?$/),f=b.match(/(\d)(?:-(\d))?/),g=b.match(/^\d+$/),h=b.replace(/[^a-z]+$/,""),j,m;if(h==="time"){d=d.concat(i);return c?l:k}if(g){j=e["optionals"][g[0]]}else if(e[h]){j=e[h]}else if(e[h+"s"]){j=e[h+"s"];if(f){m=[];j.forEach(function(a,b){var c=b%(e["units"]?8:j.length);if(c>=f[1]&&c<=(f[2]||f[1])){m.push(a)}});j=m}j=j.compact().join("|")}if(g){return"(?:"+j+")?"}else{d.push(h);return"("+j+")"+(c?"?":"")}});y(a,d,b)}});c.extend({create:function(){return S(arguments)},now:function(){return(new c).getTime()},setLocale:function(a,b){var c=z(a,false,b);if(c){Date["currentLocale"]=a;x(c);return c}},getLocale:function(a){return z(a,true)},addFormat:function(a,b,c,d){y(a,b,c,d,"unshift")}},false,false);c.extend({set:function(){var a=E(arguments);return K(this,a[0],a[1])},setUTC:function(){var a=E(arguments);return K(this,a[0],a[1],true)},setWeekday:function(a){if(h(a))return;this.setDate(this.getDate()+a-this.getDay())},setUTCWeekday:function(a){if(h(a))return;this.setDate(this.getUTCDate()+a-this.getDay())},setWeek:function(a){if(h(a))return;var b=this.getDate();this.setMonth(0);this.setDate(a*7+1)},setUTCWeek:function(a){if(h(a))return;var b=this.getUTCDate();this.setMonth(0);this.setUTCDate(a*7+1)},getWeek:function(){return P(this)},getUTCWeek:function(){return P(this.toUTC())},getUTCOffset:function(a){var b=this.utc?0:this.getTimezoneOffset();var c=a===true?":":"";if(!b&&a)return"Z";return(-b/60).round().pad(2,true)+c+(b%60).pad(2)},toUTC:function(){if(this.utc)return this;var a=this.clone().addMinutes(this.getTimezoneOffset());a.utc=true;return a},isUTC:function(){return this.utc||this.getTimezoneOffset()===0},advance:function(a){var b=E(arguments);return K(this,b[0],false,false,1,true)},rewind:function(a){var b=E(arguments);return K(this,b[0],false,false,-1)},isValid:function(){return!isNaN(this.getTime())},isAfter:function(a,b){return this.getTime()>c.create(a).getTime()-(b||0)},isBefore:function(a,b){return this.getTime()<c.create(a).getTime()+(b||0)},isBetween:function(a,b,d){var e=this.getTime();var f=c.create(a).getTime();var g=c.create(b).getTime();var h=Math.min(f,g);var i=Math.max(f,g);d=d||0;return h-d<e&&i+d>e},isLeapYear:function(){var a=this.getFullYear();return a%4===0&&a%100!==0||a%400===0},daysInMonth:function(){return 32-(new c(this.getFullYear(),this.getMonth(),32)).getDate()},format:function(a,b){return I(this,a,false,b)},relative:function(a,c){if(b.isString(a)){c=a;a=null}return I(this,a,true,c)},is:function(a,d){var e;if(b.isString(a)){a=a.trim().toLowerCase();switch(true){case a==="future":return this.getTime()>(new c).getTime();case a==="past":return this.getTime()<(new c).getTime();case a==="weekday":return this.getDay()>0&&this.getDay()<6;case a==="weekend":return this.getDay()===0||this.getDay()===6;case(e=f["weekdays"].indexOf(a)%7)>-1:return this.getDay()===e;case(e=f["months"].indexOf(a)%12)>-1:return this.getMonth()===e}}return J(this,a,d)},resetTime:function(){return this.set({hour:0,minute:0,second:0,millisecond:0})},clone:function(){return new c(this.getTime())}});c.extend({iso:function(){return this.toISOString()},getWeekday:c.prototype.getDay,getUTCWeekday:c.prototype.getUTCDay});d.extend({duration:function(a){return Date.getLocale(a).duration(this)}});Z()})()

(function(a){var b={i:/^number|text|hidden|password|button|slider$/,div:/^p|div|span|form|fieldset|pre|code|li|t[dh]|h[1-6]|a$/};var c={con:function(){try{console.log(arguments)}catch(a){}},field:function(d,e){var g=d[0].nodeName.toLowerCase();if(e!=null){var h=String(e);if(g=="input"){var i=d.eq(0).attr("type").toLowerCase();if(b.i.test(i)){if(d.val()!=h){if(d.hasClass("hasDatepicker")){if(c.mydate(d.datepicker("getDate")).to(10)!=c.mydate(c.mydate(h)).to(10))d.datepicker("setDate",c.mydate(h))}else{d.val(h);if(d.hasClass("ui-slider-input"))d.slider("refresh");if(d.data("tagstrip")&&d.data("tagstrip").root)d.trigger("update")}}}else if(i=="radio"){var j=-1;d.each(function(b){var c=a(this).val();if(c===h)j=b});d.each(function(){var b=a(this).eq(j);b.attr("checked",false);if(d.eq(j).checkboxradio)b.checkboxradio("refresh")});if(j>-1){var k=d.eq(j);k.attr("checked",true);if(d.eq(j).checkboxradio)k.checkboxradio("refresh")}}}else if(g=="select"){if(d.val()!=h){d.val(h);if(d.hasClass("ui-slider-switch"))d.slider("refresh");else{if(d.selectmenu)d.selectmenu("refresh",true)}}}else if(g=="textarea"){if(d.val()!=h)d.val(h)}else if(b.div.test(g)){if(d.hasClass("ui-slider"))d.slider("option","value",h);else if(d.hasClass("hasDatepicker"))d.datepicker("setDate",c.mydate(h));else if(d.hasClass("ui-buttonset")){var l;d.find(":radio").each(function(){l=a(this).button("option","label")==h?a(this):l});if(l){l.attr("checked","checked");d.buttonset("refresh")}}else d.html(h)}else if(g=="img"){d.attr("src",h)}return h}else{if(g=="input"){var i=(d.eq(0).attr("type")||"text").toLowerCase();if(b.i.test(i)){if(d.hasClass("hasDatepicker"))return c.mydate(d.datepicker("getDate")||new Date);return d.val()}else if(i=="radio"){var m="";d.each(function(){if(this.attributes["checked"])m=a(this).val()});return m}}else if(/^select|textarea$/.test(g)){return d.val()}else if(b.div.test(g)){if(d.hasClass("ui-slider"))return String(d.slider("option","value"))||"";if(d.hasClass("ui-buttonset")){var k=d.find(":radio:checked");if(k.size()&&k.button)return k.button("option","label");return""}if(d.hasClass("hasDatepicker"))return c.mydate(d.datepicker("getDate")||new Date);return d.html().compact()}else if(g=="img"){return d.attr("src")}}},bind:function(a,b,c,d){var e=c.bind;if(typeof e=="function"){return e(a,b,d)}else if(typeof e=="string"){if(b!=null){a[e]=String(b)}else{if(a[e]===undefined)a[e]=null}return a[e]}return null},mydate:function(b){if(typeof b=="number"||!isNaN(b)&&parseInt(b)==b){return new Date(parseInt(b))}if(typeof b=="string"){if(Date.create)return Date.create(b);return new Date(b)}if(a.type(b)=="date"||b==null){return Date.create?Date.create(b).format("{yyyy}-{MM}-{dd}T{HH}:{mm}{isotz}"):String(b)}return new Date},isOut:function(b,c,d,e){var f=d.check;if(f!=null){var g=d["error"]||e.data("my").root.data("my").params.errorMessage||"Error";var h=a.type(f);if(h=="function"){return f(b,c,e)}else if(h=="regexp"){return f.test(String(c))?"":g}else if(h=="array"){return f.indexOf(c)>-1?"":g}else if(h=="string"){return c==f?"":g}else if(h=="object"){return f[c]?"":g}return g}else{return""}},update:function(b,d,e){var g=b,h=g.data("my"),i="Unknown error";if(h){$root=h.root,$container=h.container;var j=h.selector,k=h.data,l=h.ui;var m=$root.data("my").params,n=$root.data("my").ui;var o=$root.find(j);if(d!=null){var p=d}else{p=c.field(o,c.bind(k,null,l,b))}try{var i=c.isOut(k,p,l,g)}catch(q){c.con("Error "+q.name+" validating "+j)}if(i==""){h.errors[j]="";if(d!=null){p=c.field(o,c.bind(k,d,l,b))}$container.removeClass(m.errorCss).find(m.errorTip).removeClass(m.errorCss).html("").hide(m.animate);g.removeClass("ui-state-error");g.find(".ui-widget").removeClass("ui-state-error")}else{h.errors[j]=i;$container.addClass(m.errorCss).find(m.errorTip).addClass(m.errorCss).show(m.animate).html(i);if(g.hasClass("hasDatepicker")){if(g.is("input"))g.addClass("ui-state-error");else g.find(".ui-widget").addClass("ui-state-error")}if(g.hasClass("ui-slider"))g.addClass("ui-state-error")}var r=d==null?p:d;if(l.css){for(var s in l.css){var t=l.css[s];if(Object.isRegExp(t)){if(t.test(r))$container.addClass(s);else $container.removeClass(s)}else if(Object.isFunction(t)){if(t(k,r,b))$container.addClass(s);else $container.removeClass(s)}}}if(e&&l.recalc){var u=l.recalc,v=[],w={};if(Object.isString(u))u=u.split(",");if(Object.isArray(u)){for(var x in u){if(u[x]&&Object.isString(u[x])){var y=u[x].compact();if(n[y]){if(n[y].recalc){if(v.indexOf(y)==-1)v.push(y)}else{w[y]=true}}}}for(var x=0;x<v.length;x++){w=a.extend(true,w,c.update($root.find(v[x]),null,e-1))}if(d!==null){for(x in w){if(w[x]===true&&x!=j)c.update($root.find(x),null,e-1)}return{}}}}return w||{}}},history:function(b,c,d){var e=c;if(a.type(e)!="object"||isNaN(e.remember)||a.type(e.history)!="object")return null;var f=e.history;var g=e.remember;if(a.type(b)=="object"){var h=Object.extended(a.extend(true,{},b));var i=(new Date).valueOf();var j=f.keys().sort();if(j.length>0&&i-j[j.length-1]<e.historyDelay)return null;if(j.length>0&&f[j[j.length-1]].equals(h))return null;e.history[i]=h;j.push(i);if(j.length>=g*2){var k=Object.extended();for(var l=g;l<g*2;l++){k[j[l]]=f[j[l]]}c.history=k}return e.history[j[j.length-1]]}if(!isNaN(b)||b===null){var m=parseInt(b)||0;if(m<0)return null;var j=f.keys().sort();if(m>=j.length)m=j.length-1;var n=e.history[j[j.length-m-1]].clone(true);if(d){var k=Object.extended();for(var l=0;l<j.length-m-1;l++){k[j[l]]=f[j[l]]}c.history=k}return n}}};var d={};var e={init:function(e){var g=this;if(!e)return g;if(Object.isObject(g.data("my"))&&g.data("my").id&&g.data("my").ui){c.con("$.my is already bind!");return g}var h=a.extend(true,{getContainer:function(c){if(!b.div.test(a(c)[0].tagName.toLowerCase())||c.hasClass("ui-widget")){var d=c.parents('*[data-role="fieldcontain"], *.tagstrip');if(d.size()==0){var e=c.parents("*");var f=false;for(var g=0;g<3;g++){if(!f&&b.div.test(e[g].tagName.toLowerCase())){f=e[g]}}if(!f)return c;else return a(f)}return a(d[0])}else{return c}},change:function(){},recalcDepth:2,delay:0,animate:0,errorMessage:"Incorrect input!",errorTip:".my-error-tip",errorCss:"my-error",oninit:function(){},remember:100,history:Object.extended(),historyDelay:10},e.params||{});var i=a.extend(true,{},e.ui||{});var j=e.id||"auto"+Math.random(1e8,999999999);var k=e.data||{};g.data("my",{id:j,data:k,params:h,errors:Object.extended(),ui:Object.extended(i),history:h.history});for(var l in i){var m=a(this).find(l);var n=i[l];if(m.size()>0){var o=c.bind(k,null,n,m);if(o!=null){c.field(m,o)}else{o=c.field(m,null);o=c.bind(k,o,n,m)}m.each(function(){var b=a(this);var d="blur.my input.my change.my check.my"+(a.browser.msie?" keyup.my":"");if(b.is('[type="button"]'))d="click.my check.my";else if(b.hasClass("ui-slider"))d="slide.my check.my";b.data("my",{id:j,events:d,selector:l,ui:n,initial:o,previous:o,root:g,data:k,params:h,container:h.getContainer(b),errors:g.data("my").errors}).bind(d,function(){var d=b.data("my");if(!d.errors||d.errors.values().compact(true).length==0)d.root.data("my").lastCorrect=a.extend(true,{},d.data);c.history(d.data,d.params);c.update(b,c.field(d.root.find(d.selector)),n.recalcDepth||h.recalcDepth);h.change()}.debounce(h.delay))})}else{c.con("Not found "+l+" selector at form "+j)}}for(var l in i){this.find(l).trigger("check")}g.data("my").initial=a.extend(true,{},k);d[j]=g;if(a.mobile)a.mobile.changePage(a.mobile.activePage);return g},redraw:function(a){var b=this;b.data("my").ui.each(function(d){c.update(b.find(d),a?null:undefined,b.data("my").params.reclcDepth)})},data:function(b){if(b!=null){a.extend(true,this.data("my").data,b);this.my("redraw")}return a(this).data("my").data},errors:function(){var b=a(this).data("my").errors,c={};for(var d in b){if(b[d]&&typeof b[d]=="string")c[d]=b[d]}return c},reset:function(){try{a.extend(true,this.data("my").data,this.data("my").initial);this.my("redraw")}catch(b){return false}return true},id:function(a){if(typeof a=="string"){return d[a]||null}else{var b=this.data("my");if(b&&b.id){return b.id}else{return null}}},remove:function(){var a=this;a.data("my").ui.each(function(b){var c=a.find(b);c.unbind(c.data("my").events).removeData("my")});var b=a.data("my").data;a.removeData("my");return b},undo:function(b){var d=this;var e=d.data("my");var g=e.params.history;var h=g.keys().sort();var i=1*(parseInt(b)||0);if(h.length==0||i<0)return null;if(!e.params.errors||e.params.errors.values().compact(true).length==0){if(g[h[h.length-1]].equals(Object.extended(e.data)))i+=1}else{if(!Object.extended(e.data).equals(Object.extended(e.lastCorrect)))i+=1}a.extend(true,d.data("my").data,c.history(i,e.params,true)||{});d.my("redraw");return d.data("my").data},history:function(a,b){return c.history(a,this.data("my").params,b)}};a.fn.my=function(b){if(e[b]){return e[b].apply(this,Array.prototype.slice.call(arguments,1))}else if(typeof b==="object"||!b){return e.init.apply(this,arguments)}else{a.error("Method "+b+" does not exist on jQuery.my")}}})(jQuery)